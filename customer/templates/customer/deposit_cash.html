{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Deposit Cash</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/portfolio.css">
  <style>
    /* Keep ONLY page-specific styles here */
    .deposit-card{max-width:560px;margin:24px auto;background:#fff;border:1px solid #d1fae5;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.15);padding:24px}
    .deposit-card h2{margin:0 0 16px}
    .field{margin:16px 0}
    .field label{display:block;font-weight:600;margin-bottom:6px}
    .input{width:100%;padding:12px 14px;border:1px solid #cbd5e1;border-radius:8px;background:#ecfdf5;outline:none;font-size:1rem}
    .btn{width:100%;padding:12px 16px;background:#16a34a;color:#fff;border:0;border-radius:8px;font-weight:700;cursor:pointer;margin-top:8px}
    .btn[disabled]{opacity:.5;cursor:not-allowed}
    .meta{color:#6b7280;margin-top:8px}
    .strong{font-weight:700;color:#0f172a}
    .warn{margin-top:12px;color:#b91c1c;background:#fee2e2;border:1px solid #fecaca;padding:10px 12px;border-radius:8px;display:none}
    .ok{margin-top:12px;color:#065f46;background:#ecfdf5;border:1px solid #a7f3d0;padding:10px 12px;border-radius:8px;display:none}
  </style>
</head>
<body class="portfolio">
  <header class="site-header">
    <div class="brand">
      <img src="{% static 'images/logo_investr.io.png' %}" alt="InvestR.io Logo" class="site-logo" />
      <span class="brand-text">Deposit Cash</span>
    </div>
    <nav class="nav">
      <a href="portfolio.html">Portfolio</a>
      <a href="buy_stock.html">Buy Stock</a>
      <a href="sell_stock.html">Sell Stock</a>
      <a href="deposit_cash.html" class="active">Deposit Cash</a>
      <a href="withdraw_cash.html">Withdraw Cash</a>
      <a href="sign_in.html">Logout</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="deposit-card">
      <h2>Deposit Cash</h2>
      <div class="field">
        <label for="amount">Enter Amount to Deposit ($)</label>
        <input id="amount" class="input" type="number" min="1" step="1" placeholder="e.g., 250" />
      </div>
      <button id="depositBtn" class="btn" disabled>Deposit</button>
      <div class="meta">Cash Available: <span id="cashAvail" class="strong">$1,000</span></div>
      <div id="warn" class="warn">Invalid amount. Please enter a whole number greater than 0.</div>
      <div id="ok" class="ok">Deposit successful.</div>
    </section>
  </main>

  <script>
    let cash = 1000;
    const amount = document.getElementById('amount');
    const btn = document.getElementById('depositBtn');
    const cashAvail = document.getElementById('cashAvail');
    const warn = document.getElementById('warn');
    const ok = document.getElementById('ok');
    const fmt = n => '$' + Number(n).toLocaleString();
    function validate(){
      const n = Number(amount.value);
      const valid = Number.isInteger(n) && n > 0;
      btn.disabled = !valid;
      warn.style.display = valid ? 'none' : (amount.value ? 'block' : 'none');
      ok.style.display = 'none';
    }
    amount.addEventListener('input', validate);
    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      const n = Number(amount.value);
      if (!Number.isInteger(n) || n <= 0){ validate(); return; }
      cash += n; cashAvail.textContent = fmt(cash); amount.value=''; validate(); ok.style.display='block';
    });
    cashAvail.textContent = fmt(cash);
    validate();
  </script>
</body>
</html>